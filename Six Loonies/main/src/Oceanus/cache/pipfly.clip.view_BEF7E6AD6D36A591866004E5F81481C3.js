var newclippostemptytext="Type here to write a comment";$(document).ready(function(){$("textarea").elastic();$("#cliploginbtn").live("click",function(){!loggedin&&$("#loginbtn").click();return false});$(".viewclip .userwall #clipcommentpostinput").live("keydown",function(){if(!loggedin){$("#loginbtn").click();return false}switch(event.keyCode){case 13:var a=$(this).attr("data-clip-id")+"";addClipComment(a)}});$(".viewclip .clipbtns .likeaction").live("click",function(){if(!loggedin){$("#loginbtn").click();return false}var a=$(this).attr("data-clip-id")+"";likeClip(this,a)});$(".viewclip .clipbtns .unlikeaction").live("click",function(){if(!loggedin){$("#loginbtn").click();return false}var a=$(this).attr("data-clip-id")+"";unlikeClip(this,a)});$(".viewclip .shareclipaction").live("click",function(){if(!loggedin){$("#loginbtn").click();return false}});loggedin&&$(".viewclip .shareclipaction").fancybox({modal:false,type:"ajax",padding:0,fitToView:false,scrolling:"no",transitionIn:"fade",transitionOut:"fade"});$(".viewclip .userwall #clipcommentpostinput").emptyText(newclippostemptytext,"emptytextstyle")});function addClipComment(a){var b=$(".userwall #clipcommentpostinput").val();$.ajax({type:"POST",url:"/clip/AddClipComment",data:{commentText:b,clipId:a},success:function(){$(".viewclip #clipCommentsPostContainer").load("/clip/GetClipComments?clipId="+a,function(){$(".viewclip .userwall #clipcommentpostinput").emptyText(newclippostemptytext,"emptytextstyle")})},error:function(){$.fancybox.close();showErrorNotification("Error: Comment could not be published. Please try again later.")}})}function likeClip(a,b){$.ajax({type:"POST",url:"/clip/LikeClip",data:{clipId:b},success:function(){$(a).attr("class","unlikeaction btnundo");$(a).html("<img class='actionbtnimg' src='/images/heart_filled_sm.png' height='10px' alt />Liked");$(".viewclip #cliplikescontainer").load("/clip/GetClipLikes?clipId="+b)},error:function(){showErrorNotification("Error: Error occured trying to save your like. Please try again later.")}})}function unlikeClip(a,b){$.ajax({type:"POST",url:"/clip/UnikeClip",data:{clipId:b},success:function(){$(a).attr("class","likeaction btnstyle");$(a).html("<img class='actionbtnimg' src='/images/heart_empty_sm.png' height='10px' alt />Like");$(".viewclip #cliplikescontainer").load("/clip/GetClipLikes?clipId="+b)},error:function(){showErrorNotification("Error: Error occured trying to save your like. Please try again later.")}})}